---
title: Set up Sales Agent (preview)
description: Learn how to set up Sales Agent to research leads and generate insights.
ms.date: 05/30/2025
ms.topic: how-to
ms.service: microsoft-sales-copilot
author: sbmjais
ms.author: shjais
---

# Set up Sales Agent (preview)

[!INCLUDE [preview-banner](~/../shared-content/shared/preview-includes/preview-banner.md)]

[!INCLUDE [preview-note](~/../shared-content/shared/preview-includes/preview-note-d365.md)]

Sales Agent is a powerful tool that helps you automate your sales processes and improve your productivity. It helps sellers qualify leads by generating insights from research and generating personalized outreach emails tailored to the lead and its product of interest.

Sales Agent connects to both Microsoft Dynamics 365 Sales and Salesforce Sales Cloud to research your leads, and discover related contact, account, opportunity, and activity records. Sales Agent uncovers the insights hidden in your CRM that go easily missed.

As an admin, you can set up Sales Agent to connect to your CRM and enable it for your users. Once set up, sellers can view summaries of the research within their CRM or browse the list of researched leads in the Copilot for Sales app. 

## Prerequisites

- The Copilot for Sales app is installed in either Outlook or Teams.
- You have access to environment-level settings in the [Copilot for Sales admin settings](administrator-settings-for-viva-sales.md).
- [Copilot AI features must be turned on in your environment](suggested-replies.md).
- The Dataverse environment connected to Copilot for Sales is a production environment.
- [Message capacity purchased](manage-consumption-based-billing.md) and assigned to the Copilot for Sales environment.

### Additional prerequisites for Salesforce

- Convert the **msdyn_viva** environment to a production environment. Learn more about [converting your environment to production]().
- Configure the server-to-server connection between Copilot for Sales and Salesforce. Learn more about [Connect your agents to a data source](connect-agent-datasource.md)

## Step 1: Create a view and query that defines the leads to research

Sales Agent uses a list view to find, filter, and monitor the records to research. The list view also defines which fields the agent will have access to read. You must create a list view that's specific to the Sales Agent and make sure it has access to that list view.

Sales Agent monitors the leads that are included in the query results and researches each of the leads returned. It also monitors the set of leads for changes and runs research any time a record is modified.

Learn more about creating a list view in [Salesforce](https://help.salesforce.com/s/articleView?id=xcloud.customviews_lex.htm&type=5) or [Dynamics 365 Sales](/dynamics365/sales/customize-views?tabs=SE).

> [!TIP]
> - You do not have to use the standard (out-of-the-box) lead object or entity for your leads. If your leads are stored in another type of record, you can choose to define your 'leads' using that object or entity.
> - Only include records that are useful to research. It helps you save costs by only researching leads that your sellers are going to work on. For example, you can include leads that have been created within the past 30 days so that Sales Agent is only researching new leads. Researching old leads is not likely helpful to your sellers. Additionally, only researching leads that have not yet been converted to opportunities and those which have not been disqualified are helpful filters to save cost.

## Step 2: Set up and activate the agent

1. In the Copilot for Sales admin settings, select **Sales Agent - Lead Research**.
1. If you're using Salesforce, confirm that the status does not show **Connect to Salesforce**. If it does, select **Connect to Salesforce**. Learn more about [connecting your agents to a data source](connect-agent-datasource.md).
1. Enter details in the following sections:
   - **Data configuration**: Select the data sources to be used by the agent.
   - **Company profile**: Enter the company profile details.
1. Select **Activate**. The activation process may take a few minutes. Once activated, the status changes to **Activated**.

### Data configuration

Allows you to select the data sources to be used by the agent and tell where to store the insights generated by the agent.

**To add a data source**:

1. Expand the **What structures represent your leads, accounts, and opportunities?** section and select **Add data source**.
1. In the **Choose lead table** step, select the table that stores your leads, and then selct **Next**.
1. In the **Choose a view for the Lead table** step, select the view you created in [Step 1](#step-1-create-a-view-and-query-that-defines-the-leads-to-research), and then select **Next**.
1. In the **Map the fields** step, map the fields in your lead table to the fields used by Sales Agent.
1. Expand the **Additional fields the agent should know about (recommended)** section to add more fields that you want the agent to use for research. For example, source marketing campaign and source event description. To add more fields, select **Add field** and then select the field from the list.
    > [!TIP] 
> Use the description field to descibe the type of data the additional fields contain. The better your description, the better the agent will be at interpreting this data and using it to research your leads.
1. Select **Done**.
1. To configure the data sources related to leads, select **Add data source for accounts** and **Add data source for opportunities**. Follow the same steps as above to select a table and view for accounts and opportunities.

**To select where to store the insights**:

The Sales Agent will optionally store a summary of the research in your CRM so that a seller can view the research directly on the lead record. To enable this capability, you will need to first create a table in the CRM to store the summary, and then create a field on your lead record that will be used to link the lead to the summary.

Create table to store Sales Agent research summary:
1. Create a custom table in your CRM to store the Sales Agent research summmary. (For example, `SalesAgentResearchSummary`)
1. Set the permissions on the new table to allow for the Sales Agent to create and update entries in the table.
1. In that table, create a field labled `SummaryText`. In Salesforce, the type of the field should be *Text Area (Rich)*. In Dynamics, the type of the filed should be *Multiple Lines of Text*.
1. Set the permissions on the field to allow your sellers read the contents of the newly created field.

Create a field on lead record to reference the summary:
1. Locate the table in your CRM that represents your leads being researched.
1. Add a field to store the relationship from the lead to the summary table created above. (For example, `SalesAgentResearchSummary`). In Salesforce, the data type of the field should be a *Lookup Relationship* related to the `SalesAgentResearchSummary` table created above. In Dynamics, create a *New relationship > Many-to-one* from the *Relationships* tab of the table.
1. Set the permissions to allow the field be visable and read-only to your sellers. Set the permissions to allow the Sales Agent to write to this field. In Salesforce, the field-level security should allow the "Salesforce API Only System Integrations" to write this field.

Once the above steps are complete, you can enable the Sales Agent to write summarized insights into the CRM.
1. Expand the **Where should the agent store research insights?** section.
1. Turn on the toggle for **Store a summary of research in your CRM**.
1. Select **Choose a CRM table** and follow the steps to the table and field where the insights should be stored.
1. Select the field on the lead table that references the summary.
1. Select **Next** and then select **Save**.

### Company profile

Allows you to enter the company profile details that will be used by the agent to generate insights. The company profile is used to provide context about your organization and helps the agent generate more relevant insights. Enter the following details:
- **Company name**: The name of your company.
- **Company URL**: The URL of your company website.
- **Company offerings**: A brief description of the products or services your company offers. To add more offerings, select **Add** and enter the details.
    > [!TIP] 
> The names and descriptions of your offerings will be used by the agent to match leads with potential solutions they may be interested in.

## Deactivate the agent

You can deactivate the agent at any time. When you deactivate the agent, it stops researching leads and generating insights. However, the insights that have already been generated will still be available.

1. In the Copilot for Sales admin settings, select **Sales Agent - Lead Research**.
1. Scroll down to the bottom of the page and select **Deactivate**.
1. In the confirmation dialog, select **Deactivate**.
    
    The status is changed to **Deactivated**.

## Related information

- [Use Sales Agent](use-sales-agent.md)
- [Connect your agents to a data source](connect-agent-datasource.md)
